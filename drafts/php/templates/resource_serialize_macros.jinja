
{% macro primitive_property(name) %}
        $serialized->{{ name }} = $this->{{ name }};
{% endmacro %}

{% macro resource_property(name) %}
        $serialized->{{ name }} = $this->{{ name }}->serialize();
{% endmacro %}

{% macro collection_property(name) %}
        $serialized->{{ name }} = $this->{{ name }}->serialize();
{% endmacro %}

{% macro object_property(name) %}
        $serialized->{{ name }} = new \stdClass;
{% endmacro %}

{% macro object_property_primitive(object, name) %}
        $serialized->{{ object }}->{{ name }} = $this->{{ object }}->{{ name }};
{% endmacro %}

{% macro object_property_resource(object, name) %}
        $serialized->{{ object }}->{{ name }} = $this->{{ object }}->{{ name }}->serialize();
{% endmacro %}

{% macro object_property_collection(object, name) %}
        $serialized->{{ object }}->{{ name }} = $this->{{ object }}->{{ name }}->serialize();
{% endmacro %}

{% macro array_property_primitives(name) %}
        $serialized->{{ name }} = clone $this->{{ name }};
{% endmacro %}

{% macro array_property_resources(name) %}
        $serialized->{{ name }} = array();
        for ($i = 0; $i < count($this->{{ name }}); $i++) {
            $serialized->{{ name }}[] = $this->{{ name }}[$i]->serialize();
        }
{% endmacro %}

{% macro array_property_collections(name) %}
        $serialized->{{ name }} = array();
        for ($i = 0; $i < count($this->{{ name }}); $i++) {
            $serialized->{{ name }}[] = $this->{{ name }}[$i]->serialize();
        }
{% endmacro %}

{% macro array_property_object(name) %}
        $serialized->{{ name }} = array();
        for ($i = 0; $i < count($this->{{ name }}); $i++) {
            $serialized->{{ name }}[] = new \stdClass;
        }
{% endmacro %}

{% macro array_property_object_primitive(array, name) %}
        for ($i = 0; $i < count($this->{{ array }}); $i++) {
            $serialized->{{ array }}[$i]->{{ name }} = $this->{{ array }}[$i]->{{ name }};
        }
{% endmacro %}

{% macro array_property_object_resource(array, name) %}
        for ($i = 0; $i < count($this->{{ array }}); $i++) {
            $serialized->{{ array }}[$i]->{{ name }} = $this->{{ array }}[$i]->{{ name }}->serialize();
        }
{% endmacro %}

{% macro array_property_object_collection(array, name) %}
        for ($i = 0; $i < count($this->{{ array }}); $i++) {
            $serialized->{{ array }}[$i]->{{ name }} = $this->{{ array }}[$i]->{{ name }}->serialize();
        }
{% endmacro %}



